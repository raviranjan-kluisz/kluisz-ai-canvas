import{r as n,H as p,A as h,J as j,u as N,K as w,j as s,L,I as r,i as C,M as E}from"./index-BaqaKOng.js";function S(){const[o,l]=n.useState(p),{login:c}=n.useContext(h),i=j(),{password:u,username:g}=o,m=N(e=>e.setErrorData);function a({target:{name:e,value:t}}){l(f=>({...f,[e]:t}))}const{mutate:d}=w();function x(){d({username:g,password:u},{onSuccess:t=>{c(t.access_token,"login",t.refresh_token),i.clear()},onError:t=>{m({title:E,list:[t.response.data.detail]})}})}return s.jsx("div",{className:"flex h-full w-full flex-col items-center justify-center bg-muted",children:s.jsxs("div",{className:"flex w-72 flex-col items-center justify-center gap-2",children:[s.jsx(L,{title:"Kluisz logo",className:"h-10 w-10 scale-[1.5]"}),s.jsx("span",{className:"mb-6 text-2xl font-semibold text-primary",children:"Kluisz Kanvas Admin"}),s.jsx(r,{onChange:({target:{value:e}})=>{a({target:{name:"username",value:e}})},className:"bg-background",placeholder:"Username"}),s.jsx(r,{type:"password",onChange:({target:{value:e}})=>{a({target:{name:"password",value:e}})},className:"bg-background",placeholder:"Password"}),s.jsx(C,{onClick:()=>{x()},variant:"default",className:"w-full",children:"Login"})]})})}export{S as default};
